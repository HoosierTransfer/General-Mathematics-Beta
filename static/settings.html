<!DOCTYPE html>
<html>

<head>

    <link href="./assets/css/all.css" rel="stylesheet">

    <link rel="stylesheet" href="./new_css.css">
    <title>Science Help</title>
    <script src="navbar.js"></script>

    <script>
        function unregisterServiceWorkers() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations()
                    .then(function (registrations) {
                        for (let registration of registrations) {
                            registration.unregister()
                                .then(function (success) {
                                    if (success) {
                                        console.log('Service worker unregistered successfully:', registration);
                                    } else {
                                        console.log('Service worker unregistration failed:', registration);
                                    }
                                });
                        }
                    })
                    .catch(function (error) {
                        console.log('Error getting service workers:', error);
                    });
            } else {
                console.log('Service workers are not supported in this browser.');
            }
        }

        window.onload = () => {
            document.getElementById("title_input").oninput = function () {
                if (document.getElementById("title_input").value != '') {
                    setTitle(document.getElementById("title_input").value, true);
                } else {
                    setTitle("Science Help", true);
                }
            }


            document.getElementById("icon_input").oninput = function () {
                if (document.getElementById("icon_input").value != '') {
                    setFavicon(document.getElementById("icon_input").value, true);
                } else {
                    setFavicon('', true);
                }
            }

            document.getElementById("search-engine-select").onchange = function () {
                alert()
                setSearchEngine(document.getElementById("search-engine-select").value);
            }

            document.getElementById("checkbox_console").onchange = function () {
                if (document.getElementById("checkbox_console").checked) {
                    addConsole();
                } else {
                    removeConsole();
                }
            }

            if (settings.search_engine != undefined) {
                document.getElementById("search-engine-select").value = settings.search_engine;
            }

            document.getElementById("checkbox_console").checked = JSON.parse(localStorage.getItem("settings")).console;
        }

    </script>
</head>

<body>
    <div class="bottomContainer" onmouseover="triggerBar()">
        <div id="bottomHandle"></div>
    </div>
    <div>
        <nav onmouseleave="untriggerBar()" id="navbarContainer">
            <div id="navbar">
                <a class="navbarElement" href="./games.html">
                    <i class="fa-solid fa-gamepad fa-2x" style="vertical-align: middle;"></i>
                </a>
                <a class="navbarElement" href="./sites.html">
                    <i class="fa-regular fa-window fa-2x" style="vertical-align: middle;"></i>
                </a>
                <a class="navbarElement" href="./search.html">
                    <i class="fa-solid fa-magnifying-glass fa-2x" style="vertical-align: middle;"></i>
                </a>
                <a class="navbarElement" href="./settings.html">
                    <i class="fa-solid fa-sliders fa-2x" style="vertical-align: middle;"></i>
                </a>
                <div class="navbarVerticalBreak"></div>
                <a class="navbarElement" href="./menu.html">
                    <i class="fa-solid fa-house fa-2x" style="vertical-align: middle;"></i>
                </a>
            </div>
        </nav>

        <div class="settings_content">
            <h1>
                Settings
            </h1>
            <div>
                <button class="setting-button" onclick="toggleTheme(true);" id="themeToggle">Light Mode</button>
                <br>
                <button class="setting-button" onclick="unregisterServiceWorkers();">Unregister Service Workers</button>
                <br>
                <input type="text" placeholder="Page Title" id="title_input">
                <input type="text" placeholder="Page Icon" id="icon_input">
                <br>
                <label for="checkbox_console" id="checkbox_console_label">Show Console</label>
                <input type="checkbox" id="checkbox_console">

                <div class="custom-select">
                    <select id="search-engine-select">
                        <option>DuckDuckGo</option>
                        <option>Bing</option>
                        <option>Google</option>
                        <option>Yahoo</option>
                    </select>
                    <div class="select-arrow"></div>
                </div>
            </div>
        </div>

        <div id="particles-js"></div>
        <script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
        <script src="./particles.js"></script>
        <script src="./settings.js"></script>
        <script src="./uv/uv.bundle.js"></script>
        <script src="./uv/uv.config.js"></script>
        <script src="./scripts/index.js"></script>
        <script src="./new_index.js"></script>
</body>

</html>